### Charpter 6 函数

##### 函数声明

定义函数的源文件应该把含有函数声明的头文件包含进来，编译器负责验证函数定义和声明是否匹配.

##### 传引用参数

使用引用避免拷贝，如果无须改变引用形参的值，最好将其声明为常量引用

##### const形参与实参

顶层const作用于对象本身:

```shell
const int ci = 42;   // 不能改变ci的值，const是顶层的
int i = ci;          // 正确，拷贝ci时，忽略了它的顶层const
int *const p = &i;   // const是顶层的，不能给p赋值 
```

###### 指针或引用形参与const

```shell
const int &r2 = 42; //正确
int &r4 = 42;   //错误：不能用字面值初始化一个非常量引用
```

**尽量使用常量引用**
把函数不会改变的形参定义成引用是一种比较常见的错误：

1) 这么做给调用者一种误导，函数可以修改它实参的值
2) 使用引用而非常量引用会极大限制函数所能接受的实参类型
   
我们不能把const对象、字面值或者需要类型转换的对象传递给普通的引用形参。以find_char函数为例，将它string类型形参定义成常量引用：

```c
string::size_type find_char (string &s, char c, string::size_type &occurs);
```

类似下面这样调用

```c
find_char("hello world", 'c', ctr);
```

将编译时发生错误.

##### 数组形参 
数组有两个性质，是不能拷贝数组和使用数组时会将其转换成指针。
###### 数组形参引用
形参可以时数组的引用，引用形参绑定到对应的实参上
```c
void print(int (&arr)[10])          // &arr 两端的括号不能少
{
    for (auto elem:arr)
    {
        cout <<elem << ednl;
    }
}

f(int &arr[10])     //错误： 将arr声明成引用的数组
f(int (&arr)[10])   //正确：arr 时具有10个整数的整型数组引用
```
